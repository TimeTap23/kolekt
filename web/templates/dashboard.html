<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kolekt Dashboard - Content Creation & Management</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css?v=2.4.2">
    <link rel="stylesheet" href="/static/css/dashboard.css?v=2.3.0">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <a href="/" class="logo-container">
                                    <img src="/static/images/Kolekt_icon.png" alt="Kolekt Icon" class="logo-icon">
                <span class="logo-text">kolekt.io</span>
                </a>
            </div>
            
            <nav class="header-nav">
                <a href="/dashboard" class="nav-link active">Dashboard</a>
                <a href="/content-creator" class="nav-link">Content Creator</a>
                <a href="/analytics" class="nav-link">Analytics</a>
                <a href="/team-management" class="nav-link">Team</a>
                <a href="/system-health" class="nav-link">System Health</a>
                <a href="/announcements" class="nav-link">Announcements</a>
            </nav>
            
            <div class="header-actions">
                <div class="user-menu">
                    <button class="user-menu-btn" onclick="toggleUserMenu()">
                        <div class="user-avatar">
                            <span id="userInitials">A</span>
                        </div>
                        <span class="user-name">Admin</span>
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="none" aria-hidden="true" style="margin-left: 8px;">
                            <path d="M5 7l5 6 5-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="/profile" class="dropdown-item">Profile</a>
                        <a href="/settings" class="dropdown-item">Settings</a>
                        <a href="/admin" class="dropdown-item">Admin Panel</a>
                        <hr class="dropdown-divider">
                        <a href="/logout" class="dropdown-item">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-main">
        <!-- Overview Section (Dashboard) -->
        <section id="overview-section" class="dashboard-section active">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <div class="container">
                    <h1 class="welcome-title">Welcome back, <span id="userDisplayName">User</span>! üëã</h1>
                    <p class="welcome-subtitle">Ready to create amazing content? Let's get started.</p>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="quick-actions">
                <div class="container">
                    <h2 class="section-title">Quick Actions</h2>
                    <div class="actions-grid">
                        <div class="action-card" onclick="showSection('content')">
                            <div class="action-icon">‚úçÔ∏è</div>
                            <h3>Create Content</h3>
                            <p>Start a new kolekt or import existing content</p>
                        </div>
                        <div class="action-card" onclick="showSection('formatter')">
                            <div class="action-icon">üöÄ</div>
                            <h3>Format Content</h3>
                            <p>Use AI to format your content for social media</p>
                        </div>
                        <div class="action-card" onclick="showSection('templates')">
                            <div class="action-icon">üìã</div>
                            <h3>Browse Templates</h3>
                            <p>Use proven templates for better engagement</p>
                        </div>
                        <div class="action-card" onclick="showSection('analytics')">
                            <div class="action-icon">üìä</div>
                            <h3>View Analytics</h3>
                            <p>Track your content performance</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content Overview -->
            <section class="content-overview">
                <div class="container">
                    <div class="overview-header">
                        <h2 class="section-title">Your Content</h2>
                        <button class="btn btn-primary" onclick="showSection('content')">+ New Content</button>
                    </div>
                    
                    <div class="content-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="totalContent">0</div>
                            <div class="stat-label">Total Content</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="publishedContent">0</div>
                            <div class="stat-label">Published</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="draftContent">0</div>
                            <div class="stat-label">Drafts</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="scheduledContent">0</div>
                            <div class="stat-label">Scheduled</div>
                        </div>
                    </div>

                    <div class="recent-content">
                        <h3>Recent Content</h3>
                        <div class="content-list" id="recentContentList">
                            <div class="empty-state">
                                <div class="empty-icon">üìù</div>
                                <h4>No content yet</h4>
                                <p>Create your first piece of content to get started</p>
                                <button class="btn btn-primary" onclick="showSection('content')">Create Content</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- Content Creator Section -->
        <section id="content-section" class="dashboard-section">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Content Creator</h1>
                    <p class="section-subtitle">Create and manage your content</p>
                </div>
                <div class="content-creator-interface">
                    <div class="content-input-area">
                        <textarea id="contentInput" placeholder="Start writing your content here..." class="content-textarea"></textarea>
                        <div class="content-actions">
                            <button class="btn btn-primary" onclick="saveContent()">Save Draft</button>
                            <button class="btn btn-secondary" onclick="showSection('formatter')">Format with AI</button>
                            <button class="btn btn-success" onclick="publishContent()">Publish</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Formatter Section -->
        <section id="formatter-section" class="dashboard-section">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Content Formatter</h1>
                    <p class="section-subtitle">Transform your content with AI-powered formatting</p>
                </div>
                <div class="formatter-interface">
                    <div class="formatter-grid">
                        <div class="input-section">
                            <h3>Input Content</h3>
                            <textarea id="formatterInput" placeholder="Paste your content here..." class="formatter-textarea"></textarea>
                            <div class="format-options">
                                <button class="format-option active" onclick="selectFormat('threads')">Threads Style</button>
                                <button class="format-option" onclick="selectFormat('instagram')">Instagram Style</button>
                                <button class="format-option" onclick="selectFormat('twitter')">Twitter Style</button>
                                <button class="format-option" onclick="selectFormat('linkedin')">LinkedIn Style</button>
                            </div>
                            <button class="btn btn-primary" onclick="formatContent()">Format Content</button>
                        </div>
                        <div class="output-section">
                            <h3>Formatted Output</h3>
                            <div id="formattedOutput" class="formatted-output">
                                <p class="placeholder-text">Your formatted content will appear here...</p>
                            </div>
                            <button class="btn btn-secondary" onclick="copyToClipboard()">Copy to Clipboard</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Templates Section -->
        <section id="templates-section" class="dashboard-section">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Content Templates</h1>
                    <p class="section-subtitle">Choose from proven templates for better engagement</p>
                </div>
                <div class="templates-grid">
                    <div class="template-card">
                        <h3>Product Launch</h3>
                        <p>Perfect for announcing new products or features</p>
                        <button class="btn btn-primary" onclick="useTemplate('product-launch')">Use Template</button>
                    </div>
                    <div class="template-card">
                        <h3>Tips & Tricks</h3>
                        <p>Share valuable insights with your audience</p>
                        <button class="btn btn-primary" onclick="useTemplate('tips-tricks')">Use Template</button>
                    </div>
                    <div class="template-card">
                        <h3>Behind the Scenes</h3>
                        <p>Show the human side of your brand</p>
                        <button class="btn btn-primary" onclick="useTemplate('behind-scenes')">Use Template</button>
                    </div>
                    <div class="template-card">
                        <h3>Success Story</h3>
                        <p>Share customer success stories and testimonials</p>
                        <button class="btn btn-primary" onclick="useTemplate('success-story')">Use Template</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics-section" class="dashboard-section">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Analytics</h1>
                    <p class="section-subtitle">Track your content performance and insights</p>
                </div>
                <div class="analytics-grid">
                    <div class="metric-card">
                        <h3>Total Views</h3>
                        <div class="metric-value">1,234</div>
                        <div class="metric-change positive">+12%</div>
                    </div>
                    <div class="metric-card">
                        <h3>Engagement Rate</h3>
                        <div class="metric-value">4.2%</div>
                        <div class="metric-change positive">+0.8%</div>
                    </div>
                    <div class="metric-card">
                        <h3>New Followers</h3>
                        <div class="metric-value">89</div>
                        <div class="metric-change positive">+15%</div>
                    </div>
                    <div class="metric-card">
                        <h3>Click-through Rate</h3>
                        <div class="metric-value">2.1%</div>
                        <div class="metric-change negative">-0.3%</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Team Section -->
        <section id="team-section" class="dashboard-section">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Team Management</h1>
                    <p class="section-subtitle">Manage your team and collaboration</p>
                </div>
                <div class="team-interface">
                    <div class="team-members">
                        <h3>Team Members</h3>
                        <div class="member-list">
                            <div class="member-card">
                                <div class="member-avatar">JD</div>
                                <div class="member-info">
                                    <h4>John Doe</h4>
                                    <p>Owner</p>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="inviteMember()">Invite Member</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Social Connections -->
        <section class="social-connections">
            <div class="container">
                <h2 class="section-title">Connected Accounts</h2>
                <div class="connections-grid">
                    <div class="connection-card" id="threadsConnection">
                        <div class="connection-icon">üßµ</div>
                        <div class="connection-info">
                            <h3>Threads</h3>
                            <p class="connection-status">Not connected</p>
                        </div>
                        <button class="btn btn-ghost" onclick="connectThreads()">Connect</button>
                    </div>
                    
                    <div class="connection-card" id="instagramConnection">
                        <div class="connection-icon">üì∏</div>
                        <div class="connection-info">
                            <h3>Instagram</h3>
                            <p class="connection-status">Not connected</p>
                        </div>
                        <button class="btn btn-ghost" onclick="connectInstagram()">Connect</button>
                    </div>
                    
                    <div class="connection-card" id="facebookConnection">
                        <div class="connection-icon">üìò</div>
                        <div class="connection-info">
                            <h3>Facebook</h3>
                            <p class="connection-status">Not connected</p>
                        </div>
                        <button class="btn btn-ghost" onclick="connectFacebook()">Connect</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Preview -->
        <section class="analytics-preview">
            <div class="container">
                <div class="analytics-header">
                    <h2 class="section-title">Performance Overview</h2>
                    <a href="/analytics" class="btn btn-ghost">View Full Analytics</a>
                </div>
                
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-icon">üëÅÔ∏è</div>
                        <div class="analytics-content">
                            <div class="analytics-number" id="totalViews">0</div>
                            <div class="analytics-label">Total Views</div>
                        </div>
                    </div>
                    
                    <div class="analytics-card">
                        <div class="analytics-icon">‚ù§Ô∏è</div>
                        <div class="analytics-content">
                            <div class="analytics-number" id="totalLikes">0</div>
                            <div class="analytics-label">Total Likes</div>
                        </div>
                    </div>
                    
                    <div class="analytics-card">
                        <div class="analytics-icon">üí¨</div>
                        <div class="analytics-content">
                            <div class="analytics-number" id="totalComments">0</div>
                            <div class="analytics-label">Total Comments</div>
                        </div>
                    </div>
                    
                    <div class="analytics-card">
                        <div class="analytics-icon">üìà</div>
                        <div class="analytics-content">
                            <div class="analytics-number" id="avgEngagement">0%</div>
                            <div class="analytics-label">Avg Engagement</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div id="contentCreatorModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Create New Content</h3>
                <button class="modal-close" onclick="closeContentCreator()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="content-creator-tabs">
                    <button class="tab-btn active" data-label="Manual Input" onclick="switchTab('manual')">Manual Input</button>
                    <button class="tab-btn" data-label="Import Content" onclick="switchTab('import')">Import Content</button>
                    <button class="tab-btn" data-label="AI Assistant" onclick="switchTab('ai')">AI Assistant</button>
                </div>
                
                <!-- Manual Input Tab -->
                <div class="tab-content active" id="manualTab">
                    <form id="contentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contentTitle">Title</label>
                                <input type="text" id="contentTitle" name="title" placeholder="Enter content title..." required>
                            </div>
                            
                            <div class="form-group">
                                <label for="contentType">Platform</label>
                                <select id="contentType" name="type" onchange="updateCharLimit()">
                                    <option value="threads">Threads (500 chars)</option>
                                    <option value="instagram">Instagram (2,200 chars)</option>
                                    <option value="facebook">Facebook (63,206 chars)</option>
                                    <option value="cross-platform">Cross-Platform</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="contentText">Content</label>
                            <textarea id="contentText" name="content" rows="8" placeholder="Write your content here..." required oninput="updateCharCount()"></textarea>
                            <div class="char-count">
                                <span id="charCount">0</span> / <span id="charLimit">500</span> characters
                                <span id="charStatus" class="char-status"></span>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contentTags">Tags</label>
                                <input type="text" id="contentTags" name="tags" placeholder="tech, ai, productivity">
                                <small>Separate with commas</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="publishOption">Publishing</label>
                                <select id="publishOption" name="publishOption" onchange="toggleScheduler()">
                                    <option value="draft">Save as Draft</option>
                                    <option value="immediate">Publish Now</option>
                                    <option value="scheduled">Schedule for Later</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group" id="schedulerGroup" style="display: none;">
                            <label for="scheduleDate">Schedule Date & Time</label>
                            <div class="datetime-inputs">
                                <input type="date" id="scheduleDate" name="scheduleDate">
                                <input type="time" id="scheduleTime" name="scheduleTime">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="aiOptimize" name="aiOptimize">
                                    <span class="checkmark"></span>
                                    Optimize with AI Assistant
                                </label>
                                <small>Enhance engagement and readability</small>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-ghost" onclick="closeContentCreator()">Cancel</button>
                            <button type="button" class="btn btn-ghost" onclick="previewContent()">Preview</button>
                            <button type="submit" class="btn btn-primary">
                                <span id="submitButtonText">Create Content</span>
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Import Content Tab -->
                <div class="tab-content" id="importTab" style="display: none;">
                    <div class="import-options">
                        <div class="import-method active" onclick="selectImportMethod('url')">
                            <div class="import-icon">üîó</div>
                            <h4>Import from URL</h4>
                            <p>Paste a link to import content</p>
                        </div>
                        
                        <div class="import-method" onclick="selectImportMethod('file')">
                            <div class="import-icon">üìÅ</div>
                            <h4>Upload File</h4>
                            <p>Upload text, CSV, or document files</p>
                        </div>
                        
                        <div class="import-method" onclick="selectImportMethod('existing')">
                            <div class="import-icon">üìã</div>
                            <h4>Existing Post</h4>
                            <p>Import from your connected accounts</p>
                        </div>
                    </div>
                    
                    <!-- URL Import -->
                    <div class="import-content active" id="urlImport">
                        <div class="form-group">
                            <label for="importUrl">Content URL</label>
                            <input type="url" id="importUrl" placeholder="https://example.com/post">
                            <small>Supports: Twitter, LinkedIn, Medium, blogs, articles</small>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="importFromUrl()">
                                <span class="btn-icon">üîÑ</span>
                                Import Content
                            </button>
                        </div>
                    </div>
                    
                    <!-- File Import -->
                    <div class="import-content" id="fileImport" style="display: none;">
                        <div class="file-upload-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div class="upload-icon">üìÅ</div>
                            <h4>Drag & Drop Files Here</h4>
                            <p>Or click to browse</p>
                            <input type="file" id="fileInput" accept=".txt,.csv,.docx,.pdf" multiple onchange="handleFileSelect(event)">
                            <button type="button" class="btn btn-ghost" onclick="document.getElementById('fileInput').click()">Browse Files</button>
                        </div>
                        
                        <div id="fileList" class="file-list"></div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="processFiles()" id="processFilesBtn" disabled>
                                <span class="btn-icon">‚ö°</span>
                                Process Files
                            </button>
                        </div>
                    </div>
                    
                    <!-- Existing Post Import -->
                    <div class="import-content" id="existingImport" style="display: none;">
                        <div class="connected-accounts">
                            <div class="account-selector" id="threadsAccount">
                                <div class="account-info">
                                    <div class="account-icon">üßµ</div>
                                    <div class="account-details">
                                        <h4>Threads</h4>
                                        <span class="connection-status" id="threadsStatus">Not Connected</span>
                                    </div>
                                </div>
                                <button class="btn btn-ghost btn-sm" onclick="connectAccount('threads')">Connect</button>
                            </div>
                            
                            <div class="account-selector" id="instagramAccount">
                                <div class="account-info">
                                    <div class="account-icon">üì∏</div>
                                    <div class="account-details">
                                        <h4>Instagram</h4>
                                        <span class="connection-status" id="instagramStatus">Not Connected</span>
                                    </div>
                                </div>
                                <button class="btn btn-ghost btn-sm" onclick="connectAccount('instagram')">Connect</button>
                            </div>
                            
                            <div class="account-selector" id="facebookAccount">
                                <div class="account-info">
                                    <div class="account-icon">üìò</div>
                                    <div class="account-details">
                                        <h4>Facebook</h4>
                                        <span class="connection-status" id="facebookStatus">Not Connected</span>
                                    </div>
                                </div>
                                <button class="btn btn-ghost btn-sm" onclick="connectAccount('facebook')">Connect</button>
                            </div>
                        </div>
                        
                        <div id="existingPosts" class="existing-posts" style="display: none;">
                            <h4>Recent Posts</h4>
                            <div id="postsList" class="posts-list"></div>
                        </div>
                    </div>
                </div>
                
                <!-- AI Assistant Tab -->
                <div class="tab-content" id="aiTab" style="display: none;">
                    <div class="ai-assistant">
                        <div class="ai-header">
                            <div class="ai-avatar">ü§ñ</div>
                            <div class="ai-info">
                                <h4>Kolekt AI Assistant</h4>
                                <p>I'll help you create engaging content optimized for your audience</p>
                            </div>
                        </div>
                        
                        <div class="ai-prompts">
                            <h4>Quick Prompts</h4>
                            <div class="prompt-buttons">
                                <button class="prompt-btn" onclick="usePrompt('Create a viral thread about')">
                                    üßµ Viral Thread
                                </button>
                                <button class="prompt-btn" onclick="usePrompt('Write an engaging Instagram caption for')">
                                    üì∏ Instagram Caption
                                </button>
                                <button class="prompt-btn" onclick="usePrompt('Generate a professional LinkedIn post about')">
                                    üíº LinkedIn Post
                                </button>
                                <button class="prompt-btn" onclick="usePrompt('Create educational content explaining')">
                                    üìö Educational Content
                                </button>
                                <button class="prompt-btn" onclick="usePrompt('Write a compelling story about')">
                                    üìñ Storytelling
                                </button>
                                <button class="prompt-btn" onclick="usePrompt('Create a product announcement for')">
                                    üöÄ Product Launch
                                </button>
                            </div>
                        </div>
                        
                        <div class="ai-input-section">
                            <div class="form-group">
                                <label for="aiPrompt">What would you like to create?</label>
                                <textarea id="aiPrompt" rows="4" placeholder="Describe what you want to create, your target audience, key points to include, tone of voice, etc."></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="aiTone">Tone</label>
                                    <select id="aiTone">
                                        <option value="professional">Professional</option>
                                        <option value="casual">Casual</option>
                                        <option value="friendly">Friendly</option>
                                        <option value="authoritative">Authoritative</option>
                                        <option value="humorous">Humorous</option>
                                        <option value="inspirational">Inspirational</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="aiLength">Length</label>
                                    <select id="aiLength">
                                        <option value="short">Short (1-2 sentences)</option>
                                        <option value="medium">Medium (paragraph)</option>
                                        <option value="long">Long (multiple paragraphs)</option>
                                        <option value="thread">Thread (multiple posts)</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="aiPlatform">Target Platform</label>
                                    <select id="aiPlatform">
                                        <option value="threads">Threads</option>
                                        <option value="instagram">Instagram</option>
                                        <option value="facebook">Facebook</option>
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="twitter">Twitter/X</option>
                                        <option value="general">General</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn btn-primary" onclick="generateContent()">
                                    <span class="btn-icon">‚ú®</span>
                                    Generate Content
                                </button>
                                <button type="button" class="btn btn-ghost" onclick="clearAiForm()">Clear</button>
                            </div>
                        </div>
                        
                        <div id="aiResults" class="ai-results" style="display: none;">
                            <h4>Generated Content</h4>
                            <div class="generated-content">
                                <div id="generatedText" class="generated-text"></div>
                                <div class="generation-actions">
                                    <button type="button" class="btn btn-ghost btn-sm" onclick="regenerateContent()">
                                        üîÑ Regenerate
                                    </button>
                                    <button type="button" class="btn btn-ghost btn-sm" onclick="refineContent()">
                                        ‚úèÔ∏è Refine
                                    </button>
                                    <button type="button" class="btn btn-primary btn-sm" onclick="useGeneratedContent()">
                                        ‚úÖ Use This Content
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Social Connections Modal -->
    <div id="socialConnectionsModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Connect Social Accounts</h3>
                <button class="modal-close" onclick="closeSocialConnections()">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Connect your social media accounts to publish and manage content across platforms.</p>
                
                <div class="social-accounts">
                    <!-- Threads Connection -->
                    <div class="social-account" id="threadsConnection">
                        <div class="account-header">
                            <div class="account-icon-large">üßµ</div>
                            <div class="account-info-large">
                                <h4>Threads</h4>
                                <p>Connect your Threads account to publish and import content</p>
                                <div class="connection-status-large">
                                    <span class="status-indicator" id="threadsIndicator">‚ùå</span>
                                    <span id="threadsConnectionStatus">Not Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="account-actions">
                            <button class="btn btn-primary" id="threadsConnectBtn" onclick="connectSocialAccount('threads')">
                                <span class="btn-icon">üîó</span>
                                Connect Threads
                            </button>
                            <button class="btn btn-ghost" id="threadsDisconnectBtn" onclick="disconnectSocialAccount('threads')" style="display: none;">
                                <span class="btn-icon">‚ùå</span>
                                Disconnect
                            </button>
                        </div>
                        
                        <div class="account-details" id="threadsDetails" style="display: none;">
                            <div class="detail-item">
                                <span class="detail-label">Username:</span>
                                <span class="detail-value" id="threadsUsername">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Followers:</span>
                                <span class="detail-value" id="threadsFollowers">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Connected:</span>
                                <span class="detail-value" id="threadsConnectedDate">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Instagram Connection -->
                    <div class="social-account" id="instagramConnection">
                        <div class="account-header">
                            <div class="account-icon-large">üì∏</div>
                            <div class="account-info-large">
                                <h4>Instagram</h4>
                                <p>Connect your Instagram Business account for professional posting</p>
                                <div class="connection-status-large">
                                    <span class="status-indicator" id="instagramIndicator">‚ùå</span>
                                    <span id="instagramConnectionStatus">Not Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="account-actions">
                            <button class="btn btn-primary" id="instagramConnectBtn" onclick="connectSocialAccount('instagram')">
                                <span class="btn-icon">üîó</span>
                                Connect Instagram
                            </button>
                            <button class="btn btn-ghost" id="instagramDisconnectBtn" onclick="disconnectSocialAccount('instagram')" style="display: none;">
                                <span class="btn-icon">‚ùå</span>
                                Disconnect
                            </button>
                        </div>
                        
                        <div class="account-details" id="instagramDetails" style="display: none;">
                            <div class="detail-item">
                                <span class="detail-label">Username:</span>
                                <span class="detail-value" id="instagramUsername">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Followers:</span>
                                <span class="detail-value" id="instagramFollowers">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Account Type:</span>
                                <span class="detail-value" id="instagramType">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Facebook Connection -->
                    <div class="social-account" id="facebookConnection">
                        <div class="account-header">
                            <div class="account-icon-large">üìò</div>
                            <div class="account-info-large">
                                <h4>Facebook</h4>
                                <p>Connect your Facebook Page to publish and manage content</p>
                                <div class="connection-status-large">
                                    <span class="status-indicator" id="facebookIndicator">‚ùå</span>
                                    <span id="facebookConnectionStatus">Not Connected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="account-actions">
                            <button class="btn btn-primary" id="facebookConnectBtn" onclick="connectSocialAccount('facebook')">
                                <span class="btn-icon">üîó</span>
                                Connect Facebook
                            </button>
                            <button class="btn btn-ghost" id="facebookDisconnectBtn" onclick="disconnectSocialAccount('facebook')" style="display: none;">
                                <span class="btn-icon">‚ùå</span>
                                Disconnect
                            </button>
                        </div>
                        
                        <div class="account-details" id="facebookDetails" style="display: none;">
                            <div class="detail-item">
                                <span class="detail-label">Page Name:</span>
                                <span class="detail-value" id="facebookPageName">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Page ID:</span>
                                <span class="detail-value" id="facebookPageId">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Followers:</span>
                                <span class="detail-value" id="facebookFollowers">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="connection-help">
                    <h4>Need Help?</h4>
                    <div class="help-items">
                        <div class="help-item">
                            <strong>Threads:</strong> Sign in with your Instagram account credentials
                        </div>
                        <div class="help-item">
                            <strong>Instagram:</strong> Requires a Business or Creator account for API access
                        </div>
                        <div class="help-item">
                            <strong>Facebook:</strong> Connect your Facebook Page (not personal profile)
                        </div>
                    </div>
                    <p class="help-note">
                        <strong>Privacy Note:</strong> We only access permissions needed for content publishing. 
                        Your personal data remains private and secure.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Preview Modal -->
    <div id="contentPreviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Content Preview</h3>
                <button class="modal-close" onclick="closePreviewModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="preview-platforms">
                    <div class="platform-tabs">
                        <button class="platform-tab active" onclick="switchPreviewPlatform('threads')">üßµ Threads</button>
                        <button class="platform-tab" onclick="switchPreviewPlatform('instagram')">üì∏ Instagram</button>
                        <button class="platform-tab" onclick="switchPreviewPlatform('facebook')">üìò Facebook</button>
                    </div>
                    
                    <div class="platform-preview" id="threadsPreview">
                        <div class="mock-post threads-post">
                            <div class="post-header">
                                <div class="profile-pic">üë§</div>
                                <div class="profile-info">
                                    <div class="username">@yourhandle</div>
                                    <div class="timestamp">now</div>
                                </div>
                            </div>
                            <div class="post-content" id="threadsContent">Your content will appear here...</div>
                            <div class="post-actions">
                                <span>‚ù§Ô∏è 0</span>
                                <span>üí¨ 0</span>
                                <span>üîÑ 0</span>
                                <span>üì§ 0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="platform-preview" id="instagramPreview" style="display: none;">
                        <div class="mock-post instagram-post">
                            <div class="post-header">
                                <div class="profile-pic">üë§</div>
                                <div class="profile-info">
                                    <div class="username">yourhandle</div>
                                    <div class="location">üìç Location</div>
                                </div>
                            </div>
                            <div class="post-image">üì∑</div>
                            <div class="post-actions">
                                <span>‚ù§Ô∏è üí¨ üì§</span>
                            </div>
                            <div class="post-content" id="instagramContent">Your content will appear here...</div>
                        </div>
                    </div>
                    
                    <div class="platform-preview" id="facebookPreview" style="display: none;">
                        <div class="mock-post facebook-post">
                            <div class="post-header">
                                <div class="profile-pic">üë§</div>
                                <div class="profile-info">
                                    <div class="username">Your Page Name</div>
                                    <div class="timestamp">Just now ¬∑ üåê</div>
                                </div>
                            </div>
                            <div class="post-content" id="facebookContent">Your content will appear here...</div>
                            <div class="post-actions">
                                <span>üëç Like</span>
                                <span>üí¨ Comment</span>
                                <span>üì§ Share</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="preview-actions">
                    <button type="button" class="btn btn-ghost" onclick="closePreviewModal()">Close</button>
                    <button type="button" class="btn btn-primary" onclick="proceedWithContent()">Looks Good - Proceed</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Post Modal -->
    <div id="quickPostModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Quick Post</h3>
                <button class="modal-close" onclick="closeQuickPost()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="quickPostForm">
                    <div class="form-group">
                        <label for="quickPostContent">What's on your mind?</label>
                        <textarea id="quickPostContent" name="content" rows="4" placeholder="Write your post here..." required maxlength="500"></textarea>
                        <div class="char-count">
                            <span id="quickPostCharCount">0</span> / 500 characters
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Post to:</label>
                        <div class="platform-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" name="platforms" value="threads" checked>
                                <span class="checkmark"></span>
                                üßµ Threads
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="platforms" value="instagram">
                                <span class="checkmark"></span>
                                üì∏ Instagram
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="platforms" value="facebook">
                                <span class="checkmark"></span>
                                üìò Facebook
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-ghost" onclick="closeQuickPost()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <span id="quickPostButtonText">Post Now</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- JavaScript -->
    <script src="/static/js/auth_modal.js?v=2.2.1"></script>
    <script src="/static/js/dashboard.js?v=2.3.3"></script>
    
    <script>
        // Dashboard Section Management
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.dashboard-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update navigation active state
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the corresponding nav link
            const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }
        
        // Content Creator Functions
        function saveContent() {
            const content = document.getElementById('contentInput').value;
            if (content.trim()) {
                // Save content logic here
                showNotification('Content saved as draft!', 'success');
            } else {
                showNotification('Please enter some content first.', 'error');
            }
        }
        
        function publishContent() {
            const content = document.getElementById('contentInput').value;
            if (content.trim()) {
                // Publish content logic here
                showNotification('Content published successfully!', 'success');
            } else {
                showNotification('Please enter some content first.', 'error');
            }
        }
        
        // Formatter Functions
        function selectFormat(format) {
            // Remove active class from all format options
            const options = document.querySelectorAll('.format-option');
            options.forEach(option => {
                option.classList.remove('active');
            });
            
            // Add active class to selected option
            event.target.classList.add('active');
        }
        
        function formatContent() {
            const content = document.getElementById('formatterInput').value;
            if (content.trim()) {
                // Format content logic here
                const formattedOutput = document.getElementById('formattedOutput');
                formattedOutput.innerHTML = `
                    <div class="formatted-content">
                        <h4>Formatted Content:</h4>
                        <p>${content}</p>
                        <p><em>‚ú® AI-formatted for better engagement!</em></p>
                    </div>
                `;
                showNotification('Content formatted successfully!', 'success');
            } else {
                showNotification('Please enter some content to format.', 'error');
            }
        }
        
        function copyToClipboard() {
            const output = document.getElementById('formattedOutput');
            if (output.textContent.trim() !== 'Your formatted content will appear here...') {
                navigator.clipboard.writeText(output.textContent);
                showNotification('Content copied to clipboard!', 'success');
            } else {
                showNotification('No content to copy.', 'error');
            }
        }
        
        // Template Functions
        function useTemplate(templateType) {
            const templates = {
                'product-launch': 'üöÄ BIG NEWS! We\'re launching something that will change everything...\n\nAfter months of hard work, we\'re finally ready to share what we\'ve been building.\n\nHere\'s what you need to know üëá',
                'tips-tricks': 'üí° Here are 5 productivity tips that changed my life:\n\n1. Start with the hardest task first\n2. Use the Pomodoro technique\n3. Eliminate distractions\n4. Take regular breaks\n5. Track your progress\n\nWhich tip resonates with you? üëá',
                'behind-scenes': 'üé¨ Behind the scenes: This is what it really looks like to build something amazing...\n\nNot always glamorous, but always worth it.\n\nWhat\'s your behind-the-scenes story? ü§î',
                'success-story': 'üéâ Success Story: "This tool helped me increase my productivity by 300%!"\n\n- Happy Customer\n\nReal results from real people. üí™\n\nReady to see similar results?'
            };
            
            const content = templates[templateType];
            if (content) {
                document.getElementById('contentInput').value = content;
                showSection('content');
                showNotification('Template loaded! Edit it in the Content Creator.', 'success');
            }
        }
        
        // Team Functions
        function inviteMember() {
            showNotification('Invite feature coming soon!', 'info');
        }
        
        // Notification function
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notification-container');
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>
