<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Formatter - Kolekt</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Refined Kolekt Design System */
        :root {
            --kolekt-purple: #7A3FFF;
            --kolekt-magenta: #E940A4;
            --kolekt-orange: #FF6A3D;
            --kolekt-gold: #FFB443;
            --kolekt-gradient: linear-gradient(135deg, #7A3FFF 0%, #E940A4 50%, #FF6A3D 100%);
            --kolekt-radial: radial-gradient(circle at center, #7A3FFF 0%, #E940A4 40%, #FF6A3D 75%, #FFB443 100%);
            --kolekt-glow: rgba(122, 63, 255, 0.3);
            --bg-dark: #0f0f23;
            --bg-card: #1a1a2e;
            --bg-card-hover: #252542;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b8;
            --text-muted: #6b7280;
            --border-color: #2d2d44;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark) !important;
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: var(--text-primary);
        }
        
        .logo-icon {
            width: 48px;
            height: 48px;
            border-radius: 16px;
            box-shadow: 0 4px 15px var(--kolekt-glow);
            object-fit: cover;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .preview-nav {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .preview-badge {
            background: var(--kolekt-gradient);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-menu-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .user-menu-btn:hover {
            background: var(--bg-card-hover);
            border-color: var(--kolekt-purple);
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--kolekt-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            min-width: 200px;
            z-index: 1000;
            display: none;
        }
        
        .user-dropdown.show {
            display: block;
        }
        
        .dropdown-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: background 0.2s;
        }
        
        .dropdown-item:hover {
            background: var(--bg-card-hover);
        }
        
        .dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.5rem 0;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--kolekt-gradient);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--kolekt-glow);
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-ghost:hover {
            background: var(--bg-card-hover);
            color: var(--text-primary);
            border-color: var(--kolekt-purple);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 0;
            color: white;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Preview Section */
        .preview-section {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
        }

        .preview-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        .preview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .preview-card {
            background: var(--bg-card-hover);
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid var(--border-color);
        }

        .preview-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .mock-ui {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .mock-textarea {
            width: 100%;
            height: 120px;
            background: var(--bg-dark);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            font-family: inherit;
            resize: none;
            color: var(--text-primary);
        }

        .mock-textarea::placeholder {
            color: var(--text-secondary);
        }

        .mock-button {
            background: var(--kolekt-gradient);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
        }

        .mock-output {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 6px;
            padding: 1rem;
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .features-list {
            list-style: none;
            margin-top: 1rem;
        }

        .features-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .features-list li::before {
            content: "âœ“";
            color: #38a169;
            font-weight: bold;
        }

        /* CTA Section */
        .cta-section {
            text-align: center;
            padding: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            color: white;
            margin: 2rem 0;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .cta-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .btn-lg {
            padding: 1rem 2rem;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .preview-grid {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <!-- Logo -->
            <a href="/" class="logo-container">
                <img src="/static/images/threadstorm-icon-48x48.png" alt="Kolekt Logo" class="logo-icon">
                <span class="logo-text">kolekt.io</span>
            </a>
            
            <!-- Preview Navigation -->
            <div class="preview-nav">
                <span class="preview-badge">Preview</span>
                <a href="/" class="btn btn-ghost">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" style="margin-right: 8px;">
                        <path d="M15 10H5M5 10L10 5M5 10L10 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Back to Home
                </a>
            </div>
            
            <!-- Header Actions -->
            <div class="header-actions">
                <div class="user-menu">
                    <button class="user-menu-btn" onclick="toggleUserMenu()">
                        <div class="user-avatar">
                            <span id="userInitials">U</span>
                        </div>
                        <span id="userName">User</span>
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="none" aria-hidden="true" style="margin-left: 8px;">
                            <path d="M5 7l5 6 5-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="/profile" class="dropdown-item">Profile</a>
                        <a href="/account-settings" class="dropdown-item">Settings</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" onclick="kolektAuth.logout()">Sign Out</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>AI-Powered Content Formatter</h1>
            <p>Transform your long-form content into engaging, optimized threads with intelligent chunking and professional formatting.</p>
        </div>
    </section>

    <!-- Preview Section -->
    <section class="preview-section">
        <div class="container">
            <h2 class="preview-title">See the Formatter in Action</h2>
            
            <div class="preview-grid">
                <!-- Input Preview -->
                <div class="preview-card">
                    <h3>Input Your Content</h3>
                    <div class="mock-ui">
                        <textarea class="mock-textarea" readonly>Just finished reading an amazing book about productivity. The author shares some incredible insights about time management and focus. Highly recommend it to anyone looking to improve their daily routine. The key takeaway is that we need to prioritize deep work and eliminate distractions.</textarea>
                    </div>
                    <ul class="features-list">
                        <li>Paste any long-form content</li>
                        <li>AI analyzes your text</li>
                        <li>Intelligent content chunking</li>
                    </ul>
                </div>

                <!-- Output Preview -->
                <div class="preview-card">
                    <h3>Get Optimized Threads</h3>
                    <div class="mock-ui">
                        <div class="mock-output">
                            <strong>ðŸ§µ Thread 1:</strong><br>
                            Just finished reading an amazing book about productivity! ðŸ“š<br><br>
                            The author shares some incredible insights about time management and focus that completely changed my perspective.<br><br>
                            Highly recommend it to anyone looking to improve their daily routine.
                        </div>
                        <div class="mock-output" style="margin-top: 1rem;">
                            <strong>ðŸ§µ Thread 2:</strong><br>
                            The key takeaway? We need to prioritize deep work and eliminate distractions.<br><br>
                            This simple shift can transform your productivity levels dramatically.<br><br>
                            What's your biggest productivity challenge? ðŸ‘‡
                        </div>
                    </div>
                    <ul class="features-list">
                        <li>Professional formatting</li>
                        <li>Engagement optimization</li>
                        <li>Platform-specific styling</li>
                    </ul>
                </div>
            </div>

            <!-- Features -->
            <div class="preview-grid">
                <div class="preview-card">
                    <h3>Smart Chunking</h3>
                    <p>Our AI intelligently breaks down your content into optimal thread lengths for maximum engagement.</p>
                    <ul class="features-list">
                        <li>Context-aware splitting</li>
                        <li>Maintains narrative flow</li>
                        <li>Optimized for each platform</li>
                    </ul>
                </div>

                <div class="preview-card">
                    <h3>Professional Formatting</h3>
                    <p>Add emojis, line breaks, and styling that makes your content stand out and drive engagement.</p>
                    <ul class="features-list">
                        <li>Automatic emoji suggestions</li>
                        <li>Professional styling</li>
                        <li>Brand consistency</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2 class="cta-title">Ready to Transform Your Content?</h2>
            <p class="cta-subtitle">Join thousands of creators who are already using Kolekt to create engaging threads.</p>
            <a href="/register" class="btn btn-primary btn-lg">Sign Up Now</a>
        </div>
    </section>

    <!-- JavaScript -->
    <script>
        // User menu functionality
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            const dropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Load user data
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const token = localStorage.getItem('authToken');
            if (token) {
                // User is logged in, show user menu
                document.querySelector('.user-menu').style.display = 'block';
                // Load user data from token or API
                loadUserData();
            } else {
                // User is not logged in, show auth buttons
                document.querySelector('.user-menu').style.display = 'none';
            }
        });

        function loadUserData() {
            // Load user data from API or token
            const token = localStorage.getItem('authToken');
            if (token) {
                // Decode JWT token to get user info
                try {
                    const payload = JSON.parse(atob(token.split('.')[1]));
                    const userName = payload.name || payload.email || 'User';
                    const userInitials = userName.split(' ').map(n => n[0]).join('').toUpperCase();
                    
                    document.getElementById('userName').textContent = userName;
                    document.getElementById('userInitials').textContent = userInitials;
                } catch (error) {
                    console.error('Error loading user data:', error);
                }
            }
        }
    </script>
</body>
</html>
